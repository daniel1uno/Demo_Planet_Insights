<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ArcGIS MapView App</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://js.arcgis.com/4.27/esri/themes/light/main.css" />
  <link rel="stylesheet" href="https://unpkg.com/@esri/calcite-components@1.0.0-beta.82/dist/calcite/calcite.css" />
  <script src="https://js.arcgis.com/4.27/"></script>
  <script type="module"
    src="https://unpkg.com/@esri/calcite-components@1.0.0-beta.82/dist/calcite/calcite.esm.js"></script>
</head>

<body>
  <div id="viewDiv"></div>

  <!-- Dialog HTML for graphs -->
  <div id="timeSeriesDialog" class="dialog" style="display: none">
    <div class="dialog-header" id="timeSeriesDialogHeader">
      <h2>Series de tiempo variables del territorio</h2>
      <button id="closeDialogButton" class="close-button">
        <calcite-icon icon="x-circle" scale="m"></calcite-icon>
      </button>
    </div>
    <div class="dialog-content">
      <label for="startDate">Inicio:</label>
      <input type="date" id="startDate" name="startDate" required />
      <label for="endDate">Final:</label>
      <input type="date" id="endDate" name="endDate" required />
      <br />
      <label for="indexSelect">Seleccione un índice:</label>
      <select id="indexSelect" class="custom-select">
        <option value="NDVI">NDVI</option>
        <option value="GNDVI">GNDVI</option>
      </select>
      <button id="generateChartButton" class="custom-button">
        <calcite-icon icon="chart-gear" scale="s"></calcite-icon><span>Generar gráfica</span>
      </button>
      <canvas id="timeSeriesChart"></canvas>
    </div>
  </div>
  <!-- Dialog HTML for Planet analytics workflow -->
  <div id="analyticsDialog" class="dialog" style="display: none">
    <div class="dialog-header" id="analytycsDialogHeader">
      <h2>Planet analytics Detección</h2>
      <button id="closeDialogButtonPL" class="close-button">
        <calcite-icon icon="x-circle" scale="m"></calcite-icon>
      </button>
    </div>
    <div class="dialog-content">
      <p>
        Las subscripciones disponibles en su cuenta se listan a continuación
      </p>
      <select id="subscriptionsSelect" class="custom-select"></select>
      <button id="queryCollectionsButton" class="custom-button" style="margin-top: 10px">
        Obtener resultados
      </button>
      <div id="resultsMessage" style="margin-top: 10px; font-size: 14px"></div>
      <button id="zoomToButton" class="custom-button" style="display: none; margin-top: 10px">
        <calcite-icon icon="search" scale="s"></calcite-icon> ZoomTo
      </button>
    </div>
  </div>
  <script src="app.js"></script>
</body>

</html>